{% extends "base.html" %}
{% block content %}
<section class="container">
  <h1 class="section-title">All Products</h1>
  <div class="grid">
    {% for p in products %}
    <article class="card">
      <img src="{{ p.image|default:'/static/img/placeholder.jpg' }}" alt="{{ p.name }}" width="320" height="240" loading="lazy" />
      <div class="card-body">
        <h3 class="card-title"><a href="{% url 'product_detail' slug=p.slug %}">{{ p.name }}</a></h3>
        <p class="price">$ {{ p.price }}</p>
        <a class="btn btn-accent" href="{% url 'add_to_cart' slug=p.slug %}">Add to cart</a>
      </div>
    </article>
    {% empty %}
    <p>No products available yet.</p>
    {% endfor %}
  </div>
</section>
{% endblock %}
